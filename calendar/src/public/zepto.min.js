!function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===a&&(Array.prototype.reduce=function(b){if(void 0===this||null===this)throw new TypeError;var f,c=Object(this),d=c.length>>>0,e=0;if("function"!=typeof b)throw new TypeError;if(0==d&&1==arguments.length)throw new TypeError;if(arguments.length>=2)f=arguments[1];else for(;;){if(e in c){f=c[e++];break}if(++e>=d)throw new TypeError}for(;d>e;)e in c&&(f=b.call(a,f,c[e],e,c)),e++;return f})}();var Zepto=function(){function E(a){return null==a?String(a):y[z.call(a)]||"object"}function F(a){return"[object Function]"==z.call(a)}function G(a){return a instanceof Object}function H(a){return G(a)&&a.__proto__==Object.prototype}function I(a){return a instanceof Array}function J(a){return"number"==typeof a.length}function K(b){return g.call(b,function(b){return b!==a&&null!==b})}function L(a){return a.length>0?c.fn.concat.apply([],a):a}function M(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function N(a){return a in j?j[a]:j[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function O(a,b){return"number"!=typeof b||l[M(a)]?b:b+"px"}function P(a){var b,c;return i[a]||(b=h.createElement(a),h.body.appendChild(b),c=k(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),i[a]=c),i[a]}function Q(a){return"children"in a?f.call(a.children):c.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function R(c,d,e){for(b in d)e&&H(d[b])?(H(c[b])||(c[b]={}),R(c[b],d[b],e)):d[b]!==a&&(c[b]=d[b])}function S(b,d){return d===a?c(b):c(b).filter(d)}function T(a,b,c,d){return F(b)?b.call(a,c,d):b}function U(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function V(b,c){var d=b.className,e=d&&d.baseVal!==a;return c===a?e?d.baseVal:d:(e?d.baseVal=c:b.className=c,void 0)}function W(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(b=Number(a))?/^[\[\{]/.test(a)?c.parseJSON(a):a:b):a}catch(d){return a}}function X(a,b){b(a);for(var c in a.childNodes)X(a.childNodes[c],b)}var a,b,c,d,B,C,e=[],f=e.slice,g=e.filter,h=window.document,i={},j={},k=h.defaultView.getComputedStyle,l={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},m=/^\s*<(\w+|!)[^>]*>/,n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,o=/^(?:body|html)$/i,p=["val","css","html","text","data","width","height","offset"],q=["after","prepend","before","append"],r=h.createElement("table"),s=h.createElement("tr"),t={tr:h.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:s,th:s,"*":h.createElement("div")},u=/complete|loaded|interactive/,v=/^\.([\w-]+)$/,w=/^#([\w-]*)$/,x=/^[\w-]+$/,y={},z=y.toString,A={},D=h.createElement("div");return A.matches=function(a,b){var c,d,e,f;return a&&1===a.nodeType?(c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector)?c.call(a,b):(e=a.parentNode,f=!e,f&&(e=D).appendChild(a),d=~A.qsa(e,b).indexOf(a),f&&D.removeChild(a),d):!1},B=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},C=function(a){return g.call(a,function(b,c){return a.indexOf(b)==c})},A.fragment=function(b,d,e){b.replace&&(b=b.replace(n,"<$1></$2>")),d===a&&(d=m.test(b)&&RegExp.$1),d in t||(d="*");var g,h,i=t[d];return i.innerHTML=""+b,h=c.each(f.call(i.childNodes),function(){i.removeChild(this)}),H(e)&&(g=c(h),c.each(e,function(a,b){p.indexOf(a)>-1?g[a](b):g.attr(a,b)})),h},A.Z=function(a,b){return a=a||[],a.__proto__=arguments.callee.prototype,a.selector=b||"",a},A.isZ=function(a){return a instanceof A.Z},A.init=function(b,d){if(b){if(F(b))return c(h).ready(b);if(A.isZ(b))return b;var e;if(I(b))e=K(b);else if(G(b))e=[H(b)?c.extend({},b):b],b=null;else if(m.test(b))e=A.fragment(b.trim(),RegExp.$1,d),b=null;else{if(d!==a)return c(d).find(b);e=A.qsa(h,b)}return A.Z(e,b)}return A.Z()},c=function(a,b){return A.init(a,b)},c.extend=function(a){var b,c=f.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){R(a,c,b)}),a},A.qsa=function(a,b){var c;return a===h&&w.test(b)?(c=a.getElementById(RegExp.$1))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:f.call(v.test(b)?a.getElementsByClassName(RegExp.$1):x.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},c.contains=function(a,b){return a!==b&&a.contains(b)},c.type=E,c.isFunction=F,c.isObject=G,c.isArray=I,c.isPlainObject=H,c.inArray=function(a,b,c){return e.indexOf.call(b,a,c)},c.camelCase=A.camelize=B,c.trim=function(a){return a.trim()},c.uuid=0,c.support={},c.expr={},c.map=function(a,b){var c,e,f,d=[];if(J(a))for(e=0;e<a.length;e++)c=b(a[e],e),null!=c&&d.push(c);else for(f in a)c=b(a[f],f),null!=c&&d.push(c);return L(d)},c.each=function(a,b){var c,d;if(J(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},c.grep=function(a,b){return g.call(a,b)},window.JSON&&(c.parseJSON=JSON.parse),c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){y["[object "+b+"]"]=b.toLowerCase()}),c.fn={forEach:e.forEach,reduce:e.reduce,push:e.push,sort:e.sort,indexOf:e.indexOf,concat:e.concat,map:function(a){return c(c.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return c(f.apply(this,arguments))},ready:function(a){return u.test(h.readyState)?a(c):h.addEventListener("DOMContentLoaded",function(){a(c)},!1),this},get:function(b){return b===a?f.call(this):this[b]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return this.forEach(function(b,c){a.call(b,c,b)}),this},filter:function(a){return F(a)?this.not(this.not(a)):c(g.call(this,function(b){return A.matches(b,a)}))},add:function(a,b){return c(C(this.concat(c(a,b))))},is:function(a){return this.length>0&&A.matches(this[0],a)},not:function(b){var e,d=[];return F(b)&&b.call!==a?this.each(function(a){b.call(this,a)||d.push(this)}):(e="string"==typeof b?this.filter(b):J(b)&&F(b.item)?f.call(b):c(b),this.forEach(function(a){e.indexOf(a)<0&&d.push(a)})),c(d)},has:function(a){return this.filter(function(){return G(a)?c.contains(this,a):c(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!G(a)?a:c(a)},last:function(){var a=this[this.length-1];return a&&!G(a)?a:c(a)},find:function(a){var b;return b=1==this.length?c(A.qsa(this[0],a)):this.map(function(){return A.qsa(this,a)})},closest:function(a,b){for(var d=this[0];d&&!A.matches(d,a);)d=d!==b&&d!==h&&d.parentNode;return c(d)},parents:function(a){for(var b=[],d=this;d.length>0;)d=c.map(d,function(a){return(a=a.parentNode)&&a!==h&&b.indexOf(a)<0?(b.push(a),a):void 0});return S(b,a)},parent:function(a){return S(C(this.pluck("parentNode")),a)},children:function(a){return S(this.map(function(){return Q(this)}),a)},contents:function(){return this.map(function(){return f.call(this.childNodes)})},siblings:function(a){return S(this.map(function(a,b){return g.call(Q(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return c.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==k(this,"").getPropertyValue("display")&&(this.style.display=P(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var d,e,b=F(a);return this[0]&&!b&&(d=c(a).get(0),e=d.parentNode||this.length>1),this.each(function(f){c(this).wrapAll(b?a.call(this,f):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){c(this[0]).before(a=c(a));for(var b;(b=a.children()).length;)a=b.first();c(a).append(this)}return this},wrapInner:function(a){var b=F(a);return this.each(function(d){var e=c(this),f=e.contents(),g=b?a.call(this,d):a;f.length?f.wrapAll(g):e.append(g)})},unwrap:function(){return this.parent().each(function(){c(this).replaceWith(c(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(b){return this.each(function(){var d=c(this);(b===a?"none"==d.css("display"):b)?d.show():d.hide()})},prev:function(a){return c(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return c(this.pluck("nextElementSibling")).filter(a||"*")},html:function(b){return b===a?this.length>0?this[0].innerHTML:null:this.each(function(a){var d=this.innerHTML;c(this).empty().append(T(this,b,a,d))})},text:function(b){return b===a?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=b})},attr:function(c,d){var e;return"string"==typeof c&&d===a?0==this.length||1!==this[0].nodeType?a:"value"==c&&"INPUT"==this[0].nodeName?this.val():!(e=this[0].getAttribute(c))&&c in this[0]?this[0][c]:e:this.each(function(a){if(1===this.nodeType)if(G(c))for(b in c)U(this,b,c[b]);else U(this,c,T(this,d,a,this.getAttribute(c)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&U(this,a)})},prop:function(b,c){return c===a?this[0]?this[0][b]:a:this.each(function(a){this[b]=T(this,c,a,this[b])})},data:function(b,c){var d=this.attr("data-"+M(b),c);return null!==d?d:a},val:function(b){return b===a?this.length>0?this[0].multiple?c(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value:a:this.each(function(a){this.value=T(this,b,a,this.value)})},offset:function(){if(0==this.length)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(c,d){if(arguments.length<2&&"string"==typeof c)return 0==this.length?a:this[0].style[B(c)]||k(this[0],"").getPropertyValue(c);var e="";for(b in c)c[b]||0===c[b]?e+=M(b)+":"+O(b,c[b])+";":this.each(function(){this.style.removeProperty(M(b))});return"string"==typeof c&&(d||0===d?e=M(c)+":"+O(c,d):this.each(function(){this.style.removeProperty(M(c))})),this.each(function(){this.style.cssText+=";"+e})},index:function(a){return a?this.indexOf(c(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return this.length<1?!1:N(a).test(V(this[0]))},addClass:function(a){return this.each(function(b){d=[];var e=V(this),f=T(this,a,b,e);f.split(/\s+/g).forEach(function(a){c(this).hasClass(a)||d.push(a)},this),d.length&&V(this,e+(e?" ":"")+d.join(" "))})},removeClass:function(b){return this.each(function(c){return b===a?V(this,""):(d=V(this),T(this,b,c,d).split(/\s+/g).forEach(function(a){d=d.replace(N(a)," ")}),V(this,d.trim()),void 0)})},toggleClass:function(b,d){return this.each(function(e){var f=T(this,b,e,V(this));(d===a?!c(this).hasClass(f):d)?c(this).addClass(f):c(this).removeClass(f)})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),d=this.offset(),e=o.test(b[0].nodeName)?{top:0,left:0}:b.offset();return d.top-=parseFloat(c(a).css("margin-top"))||0,d.left-=parseFloat(c(a).css("margin-left"))||0,e.top+=parseFloat(c(b[0]).css("border-top-width"))||0,e.left+=parseFloat(c(b[0]).css("border-left-width"))||0,{top:d.top-e.top,left:d.left-e.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||h.body;a&&!o.test(a.nodeName)&&"static"==c(a).css("position");)a=a.offsetParent;return a})}},["width","height"].forEach(function(b){c.fn[b]=function(d){var e,f=b.replace(/./,function(a){return a[0].toUpperCase()});return d===a?this[0]==window?window["inner"+f]:this[0]==h?h.documentElement["offset"+f]:(e=this.offset())&&e[b]:this.each(function(a){var e=c(this);e.css(b,T(this,d,a,e[b]()))})}}),q.forEach(function(a,b){var d=b%2;c.fn[a]=function(){var e,a=c.map(arguments,function(a){return G(a)?a:A.fragment(a)}),f=this.length>1;return a.length<1?this:this.each(function(g,h){e=d?h:h.parentNode,h=0==b?h.nextSibling:1==b?h.firstChild:2==b?h:null,a.forEach(function(a){if(f)a=a.cloneNode(!0);else if(!e)return c(a).remove();X(e.insertBefore(a,h),function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window["eval"].call(window,a.innerHTML)})})})},c.fn[d?a+"To":"insert"+(b?"Before":"After")]=function(b){return c(b)[a](this),this}}),A.Z.prototype=c.fn,A.uniq=C,A.deserializeValue=W,c.zepto=A,c}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(a){function l(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.defaultPrevented}function m(a,b,d,e){return a.global?l(b||c,d,e):void 0}function n(b){b.global&&0===a.active++&&m(b,null,"ajaxStart")}function o(b){b.global&&!--a.active&&m(b,null,"ajaxStop")}function p(a,b){var c=b.context;return b.beforeSend.call(c,a,b)===!1||m(b,c,"ajaxBeforeSend",[a,b])===!1?!1:(m(b,c,"ajaxSend",[a,b]),void 0)}function q(a,b,c){var d=c.context,e="success";c.success.call(d,a,e,b),m(c,d,"ajaxSuccess",[b,c,a]),s(e,b,c)}function r(a,b,c,d){var e=d.context;d.error.call(e,c,b,a),m(d,e,"ajaxError",[c,d,a]),s(b,c,d)}function s(a,b,c){var d=c.context;c.complete.call(d,b,a),m(c,d,"ajaxComplete",[b,c]),o(c)}function t(){}function u(a){return a&&(a=a.split(";",2)[0]),a&&(a==j?"html":a==i?"json":g.test(a)?"script":h.test(a)&&"xml")||"text"}function v(a,b){return(a+"&"+b).replace(/[&?]{1,2}/,"?")}function w(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=v(b.url,b.data))}function x(b,c,d,e){var f=!a.isFunction(c);return{url:b,data:f?c:void 0,success:f?a.isFunction(d)?d:void 0:c,dataType:f?e||d:d}}function z(b,c,d,e){var f,g=a.isArray(c);a.each(c,function(c,h){f=a.type(h),e&&(c=d?e:e+"["+(g?"":c)+"]"),!e&&g?b.add(h.name,h.value):"array"==f||!d&&"object"==f?z(b,h,d,c):b.add(c,h)})}var d,e,y,b=0,c=window.document,f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,g=/^(?:text|application)\/javascript/i,h=/^(?:text|application)\/xml/i,i="application/json",j="text/html",k=/^\s*$/;a.active=0,a.ajaxJSONP=function(d){if(!("type"in d))return a.ajax(d);var j,e="jsonp"+ ++b,f=c.createElement("script"),g=function(){clearTimeout(j),a(f).remove(),delete window[e]},h=function(a){g(),a&&"timeout"!=a||(window[e]=t),r(null,a||"abort",i,d)},i={abort:h};return p(i,d)===!1?(h("abort"),!1):(window[e]=function(a){g(),q(a,i,d)},f.onerror=function(){h("error")},f.src=d.url.replace(/=\?/,"="+e),a("head").append(f),d.timeout>0&&(j=setTimeout(function(){h("timeout")},d.timeout)),i)},a.ajaxSettings={type:"GET",beforeSend:t,success:t,error:t,complete:t,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:i,xml:"application/xml, text/xml",html:j,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!1},a.ajax=function(b){var f,g,m,h,i,j,l,o,c=a.extend({},b||{});for(d in a.ajaxSettings)void 0===c[d]&&(c[d]=a.ajaxSettings[d]);if(n(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),w(c),c.cache===!1&&(c.url=v(c.url,"_="+Date.now())),f=c.dataType,g=/=\?/.test(c.url),"jsonp"==f||g)return g||(c.url=v(c.url,"callback=?")),a.ajaxJSONP(c);h=c.accepts[f],i={},j=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,l=c.xhr(),c.crossDomain||(i["X-Requested-With"]="XMLHttpRequest"),h&&(i.Accept=h,h.indexOf(",")>-1&&(h=h.split(",",2)[0]),l.overrideMimeType&&l.overrideMimeType(h)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&(i["Content-Type"]=c.contentType||"application/x-www-form-urlencoded"),c.headers=a.extend(i,c.headers||{}),l.onreadystatechange=function(){if(4==l.readyState){l.onreadystatechange=t,clearTimeout(m);var b,d=!1;if(l.status>=200&&l.status<300||304==l.status||0==l.status&&"file:"==j){f=f||u(l.getResponseHeader("content-type")),b=l.responseText;try{"script"==f?(1,eval)(b):"xml"==f?b=l.responseXML:"json"==f&&(b=k.test(b)?null:a.parseJSON(b))}catch(e){d=e}d?r(d,"parsererror",l,c):q(b,l,c)}else r(null,l.status?"error":"abort",l,c)}},o="async"in c?c.async:!0,l.open(c.type,c.url,o);for(e in c.headers)l.setRequestHeader(e,c.headers[e]);return p(l,c)===!1?(l.abort(),!1):(c.timeout>0&&(m=setTimeout(function(){l.onreadystatechange=t,l.abort(),r(null,"timeout",l,c)},c.timeout)),l.send(c.data?c.data:null),l)},a.get=function(){return a.ajax(x.apply(null,arguments))},a.post=function(){var f=x.apply(null,arguments);return f.type="POST",a.ajax(f)},a.getJSON=function(){var e=x.apply(null,arguments);return e.dataType="json",a.ajax(e)},a.fn.load=function(b,c,d){if(!this.length)return this;var h,e=this,g=b.split(/\s/),i=x(b,c,d),j=i.success;return g.length>1&&(i.url=g[0],h=g[1]),i.success=function(b){e.html(h?a("<div>").html(b.replace(f,"")).find(h):b),j&&j.apply(e,arguments)},a.ajax(i),this},y=encodeURIComponent,a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(y(a)+"="+y(b))},z(c,a,b),c.join("&").replace(/%20/g,"+")}}(Zepto),function(a){function f(a){return a._zid||(a._zid=d++)}function g(a,b,d,e){if(b=h(b),b.ns)var g=i(b.ns);return(c[f(a)]||[]).filter(function(a){return!(!a||b.e&&a.e!=b.e||b.ns&&!g.test(a.ns)||d&&f(a.fn)!==f(d)||e&&a.sel!=e)})}function h(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function i(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function j(b,c,d){a.isObject(b)?a.each(b,d):b.split(/\s/).forEach(function(a){d(a,c)})}function k(b,d,e,g,i,k){k=!!k;var l=f(b),m=c[l]||(c[l]=[]);j(d,e,function(c,d){var e=i&&i(d,c),f=e||d,j=function(a){var c=f.apply(b,[a].concat(a.data));return c===!1&&a.preventDefault(),c},l=a.extend(h(c),{fn:d,proxy:j,sel:g,del:e,i:m.length});m.push(l),b.addEventListener(l.e,j,k)})}function l(a,b,d,e){var h=f(a);j(b||"",d,function(b,d){g(a,b,d,e).forEach(function(b){delete c[h][b.i],a.removeEventListener(b.e,b.proxy,!1)})})}function p(b){var c=a.extend({originalEvent:b},b);return a.each(o,function(a,d){c[a]=function(){return this[d]=m,b[a].apply(b,arguments)},c[d]=n}),c}function q(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}}}var m,n,o,c=(a.zepto.qsa,{}),d=1,e={};e.click=e.mousedown=e.mouseup=e.mousemove="MouseEvents",a.event={add:k,remove:l},a.proxy=function(b,c){if(a.isFunction(b)){var d=function(){return b.apply(c,arguments)};return d._zid=f(b),d}if("string"==typeof c)return a.proxy(b[c],b);throw new TypeError("expected function")},a.fn.bind=function(a,b){return this.each(function(){k(this,a,b)})},a.fn.unbind=function(a,b){return this.each(function(){l(this,a,b)})},a.fn.one=function(a,b){return this.each(function(c,d){k(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return l(d,b,a),c}})})},m=function(){return!0},n=function(){return!1},o={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},a.fn.delegate=function(b,c,d){var e=!1;return("blur"==c||"focus"==c)&&(a.iswebkit?c="blur"==c?"focusout":"focus"==c?"focusin":c:e=!0),this.each(function(f,g){k(g,c,d,b,function(c){return function(d){var e,f=a(d.target).closest(b,g).get(0);return f?(e=a.extend(p(d),{currentTarget:f,liveFired:g}),c.apply(f,[e].concat([].slice.call(arguments,1)))):void 0}},e)})},a.fn.undelegate=function(a,b,c){return this.each(function(){l(this,b,c,a)})},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d){return void 0==c||a.isFunction(c)?this.bind(b,c):this.delegate(c,b,d)},a.fn.off=function(b,c,d){return void 0==c||a.isFunction(c)?this.unbind(b,c):this.undelegate(c,b,d)},a.fn.trigger=function(b,c){return"string"==typeof b&&(b=a.Event(b)),q(b),b.data=c,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})},a.fn.triggerHandler=function(b,c){var d,e;return this.each(function(f,h){d=p("string"==typeof b?a.Event(b):b),d.data=c,d.target=h,a.each(g(h,b.type||b),function(a,b){return e=b.proxy(d),d.isImmediatePropagationStopped()?!1:void 0})}),e},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){if(a)this.bind(b,a);else if(this.length)try{this.get(0)[b]()}catch(c){}return this}}),a.Event=function(a,b){var f,c=document.createEvent(e[a]||"Events"),d=!0;if(b)for(f in b)"bubbles"==f?d=!!b[f]:c[f]=b[f];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c}}(Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/WebKit\/([\d.]+)/),e=a.match(/(Android).*?([\d.]+)/)||/HTC/.test(a),f=a.match(/(iPad).*OS\s([\d_]+)/),g=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),h=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),i=h&&a.match(/TouchPad/),j=a.match(/Kindle\/([\d.]+)/),k=a.match(/Silk\/([\d._]+)/),l=a.match(/(BlackBerry).*Version\/([\d.]+)/);(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),g&&(b.ios=b.iphone=!0,b.version=g[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),h&&(b.webos=!0,b.version=h[2]),i&&(b.touchpad=!0),l&&(b.blackberry=!0,b.version=l[2]),j&&(b.kindle=!0,b.version=j[1]),k&&(c.silk=!0,c.version=k[1]),!k&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0)}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a,b){function l(a){return a.toLowerCase()}function m(a){return d?d+a:l(a)}var d,c="",g={"":"",Webkit:"webkit",Moz:"",O:"o",ms:"MS"},h=window.document,i=h.createElement("div"),j=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,k={};a.each(g,function(a,e){return i.style[a+"TransitionProperty"]!==b?(c="-"+l(a)+"-",d=e,!1):void 0}),a.prefix=c,k[c+"transition-property"]=k[c+"transition-duration"]=k[c+"transition-timing-function"]=k[c+"animation-name"]=k[c+"animation-duration"]="",a.fx={off:d===b&&i.style.transitionProperty===b,cssPrefix:c,transitionEnd:m("TransitionEnd"),animationEnd:m("AnimationEnd")},a.fn.animate=function(b,c,d,e){return a.isObject(c)&&(d=c.easing,e=c.complete,c=c.duration),c&&(c/=1e3),this.anim(b,c,d,e)},a.fn.anim=function(d,e,f,g){var h,l,n,i={},m=this,o=a.fx.transitionEnd;if(e===b&&(e=.4),a.fx.off&&(e=0),"string"==typeof d)i[c+"animation-name"]=d,i[c+"animation-duration"]=e+"s",o=a.fx.animationEnd;else{for(l in d)j.test(l)?(h||(h=[]),h.push(l+"("+d[l]+")"),delete d[l]):i[l]=d[l];h&&(i[c+"transform"]=h.join(" "),d.transform="transform"),a.fx.off||"object"!=typeof d||(i[c+"transition-property"]=Object.keys(d).join(", "),i[c+"transition-duration"]=e+"s",i[c+"transition-timing-function"]=f||"linear")}return n=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(o,arguments.callee)}a(this).css(k),g&&g.call(this)},e>0&&this.bind(o,n),setTimeout(function(){m.css(i),0>=e&&setTimeout(function(){m.each(function(){n.call(this)})},0)},0),this},i=null}(Zepto),function(){function g(a){return a.toLowerCase()}function i(a,b){function d(){clearTimeout(c),a&&a(),a=null}var c=null;return c=setTimeout(d,b||300),d}var c,a=function(){return function(){return($.os.ios||$.os.android&&$.os.version>="4.0")&&!/UCBrowser|baidubrowser/i.test(navigator.userAgent)}()},b="",d={"":"",Webkit:"webkit",Moz:"moz",O:"o",ms:"ms"},e=window.document,f=e.createElement("div");$.each(d,function(a,d){return void 0!==f.style[a+"TransitionProperty"]?(b="-"+g(a)+"-",c=d,!1):void 0}),$.extend($.fn,{page:function(a){var b=this,c=function(){},d=a.init||c,e=a.active||c,f=a.unactive||c,g=a.cancel||c,h=a.beforeUnActive||c,i=!1;return{thiz:$(b),init:function(){!i&&d.apply(this,arguments),i=!0},active:function(){e.apply(this,arguments)},unactive:f,beforeUnActive:h,cancel:g}},pages:function(b){var e,f="",g=!1,b=$.extend({main:"",side:[],animate:!0},b),h=$("#"+b.main),j=function(a){window.scroll(0,1),g||(g=!0,h.show(),a.thiz.animate({translate3d:e+"px,0,0"},{duration:250,easing:"ease-out",complete:i(function(){a.thiz.removeClass("active").hide(),g=!1})}),a.beforeUnActive(),f="")},k=function(a,d){g||(g=!0,f=a,$.each(b.side,function(b,d){var j=d.thiz,l=function(){h.hide(),g=!1};return 0==a.indexOf(j.attr("id"))?(j.addClass("active").show(),d.active(),window.scrollTo(0,1),j.css("-"+c+"-transform","translate3d("+e+"px,0,0)").animate({translate3d:"0,0,0"},{duration:250,easing:"ease-out",complete:i(l)}),!1):void 0}),!d&&b.supportPushState&&window.history.pushState({page:a},a))};return e=$(window).width(),b.supportPushState=!!window.history.pushState&&a(),$.each(b.side,function(a,c){c.thiz.show(),c.init(),c.thiz.hide();var d=c.unactive;c.unactive=function(){d.apply(c,arguments)!==!1&&(b.supportPushState?(window.history.back(),c.beforeUnActive()):j(c))},c.thiz.find(".back").on("click",function(a){a.preventDefault(),c.cancel()!==!1&&(b.supportPushState?(window.history.back(),c.beforeUnActive()):j(c))})}),$(window).on("popstate",function(a){return a.state&&a.state.page?(k(a.state.page,!0),void 0):(f&&"#"==$.hash()&&$.each(b.side,function(a,b){b.thiz.attr("id")==f&&j(b)}),void 0)}).on("load",function(){window.history.replaceState({page:""},"")}),{toPage:k}}})}(),function(){var y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.3",y=x.each=x.forEach=function(a,b,d){var e,f,g;if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return},x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},z="Reduce of empty array with no initial value",x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var f,g,e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);if(f=a.length,f!==+f&&(g=x.keys(a),f=g.length),y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)},A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)},x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2);return x.map(a,function(a){return(x.isFunction(b)?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b){return x.isEmpty(b)?[]:x.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},B=function(a){return x.isFunction(a)?a:function(b){return b[a]}},x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")},C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e},x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){var e,f,g,h;for(c=null==c?x.identity:B(c),e=c.call(d,b),f=0,g=a.length;g>f;)h=f+g>>>1,c.call(d,a[h])<e?f=h+1:g=h;return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)},D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c},x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){var e,f,g;return x.isFunction(b)&&(d=c,c=b,b=!1),e=c?x.map(a,c,d):a,f=[],g=[],y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){var d,a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=new Array(b);for(d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){var c,d,e;if(null==a)return{};for(c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){var d,e;if(null==a)return-1;if(d=null!=c,t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){var d,e,f;for(arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},E=function(){},x.bind=function(a,b){var c,d;if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){var e,f;
return this instanceof d?(E.prototype=a.prototype,e=new E,E.prototype=null,f=a.apply(e,c.concat(h.call(arguments))),Object(f)===f?f:e):a.apply(b,c.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var c,b=!1;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){var c,b=arguments;for(c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){var b,c;if(a!==Object(a))throw new TypeError("Invalid object");b=[];for(c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var c,b=[];for(c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var c,b=[];for(c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var c,b={};for(c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var c,b=[];for(c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var e,b={},c=i.apply(d,h.call(arguments,1));for(e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a},F=function(a,b,c,d){var e,f,g,h,i,k,l;if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;if(a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped),e=j.call(a),e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(f=c.length;f--;)if(c[f]==a)return d[f]==b;if(c.push(a),d.push(b),g=0,h=!0,"[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=F(a[g],b[g],c,d)););}else{if(i=a.constructor,k=b.constructor,i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h},x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){var e,d=Array(a);for(e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))},G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}},G.unescape=x.invert(G.escape),H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")},x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})},I=0,x.uniqueId=function(a){var b=""+ ++I;return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g,x.template=function(a,b,c){var d,e,f,g,i;c=x.defaults({},c,x.templateSettings),e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='",a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}return b?d(b,x):(i=function(a){return d.call(this,a,x)},i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i)},x.chain=function(a){return x(a).chain()},M=function(a){return this._chain?x(a).chain():a},x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){$.extend($,{getDay:function(a){var b=a.split("-"),c=new Date(b[0],b[1]-1,b[2]);return c=c.getDay(),"星期"+(1==c?"一":2==c?"二":3==c?"三":4==c?"四":5==c?"五":6==c?"六":"日")},hash:function(a){var b=(window||this).location.href,c=b.match(/#(.*)$/);return a&&(window.location.href="#"+a),c?c[1]:"#"},lastHref:function(){var a=window.location.href.split("/");return a[a.length-1]},jumpDate:function(a,b){var e,c=a.split("-"),d=new Date(c[0],c[1]-1,c[2]);return d.setDate(d.getDate()+b),e=d.getMonth()+1,d.getFullYear()+"-"+(10>e?"0"+e:e)+"-"+(d.getDate()<10?"0"+d.getDate():d.getDate())},href:function(){var d,b=window.location.href,c=new RegExp;return b=b.replace(/#.*/,""),{getValue:function(){return b},replace:function(){return b=b.replace(arguments[0],arguments[1]),this},append:function(a){return b=b+"&"+a,this},path:function(a){return b=-1!=b.indexOf("?")?b.replace(/\/[^\/]*\?/,"/"+a+"?"):b.replace(/\/[^/]*$/,"/"+a+"?"),this},param:function(){var f,g,a=arguments,e=a.length;if(0==e)return b=b.replace(/\?(.)*/,"?"),this;if(1==e&&"string"==typeof a[0])return c.compile("[&?]"+a[0]+"=([^=&?#]*)"),b.match(c)?b.match(c)[1]:"";if(2==e)return c.compile("[&?]"+a[0]+"=([^=&?#]*)"),d=b.match(c),b=d?b.replace(a[0]+"="+d[1],a[0]+"="+a[1]):b+(-1==b.indexOf("?")?"?":b.indexOf("?")==b.length-1?"":"&")+a[0]+"="+a[1],this;if("object"==typeof a[0]){g=a[0];for(f in g)a.callee(f,g[f])}return this},exec:function(){window.location.href=b}}},fixTo8Date:function(a,b,c,d){return[a,10>b?"0"+b:b,10>c?"0"+c:c].join(d||"")},getTimeString:function(a){var b=new Date,c=function(a){return 10>a?"0"+a:a};return b.setTime(a),b.getFullYear()+"-"+c(b.getMonth()+1)+"-"+c(b.getDate())+" "+c(b.getHours())+":"+c(b.getMinutes())},sendClick:function(a){_hmt.push(["_trackEvent","common","cnt",a])},throttle:function(a,b,c){function f(){function i(){d=Date.now(),b.apply(f,h)}function j(){e=void 0}var f=this,g=Date.now()-d,h=arguments;c&&!e&&i(),e&&clearTimeout(e),void 0===c&&g>a?i():e=setTimeout(c?j:i,void 0===c?a-g:a)}var e,d=0;return"function"!=typeof b&&(c=b,b=a,a=250),f._zid=b._zid=b._zid||$.proxy(b)._zid,f},debounce:function(a,b,c){return void 0===b?$.throttle(250,a,!1):$.throttle(a,b,void 0===c?!1:c!==!1)},getDateString:function(a){var b=a,c=function(a){return 10>a?"0"+a:a};return b.getFullYear()+"-"+c(b.getMonth()+1)+"-"+c(b.getDate())}}),$.extend($.fn,{countdown:function(a){var b=this,c=a.seconds||10,d=a.text||"",e=a.url||window.location.href,f=setInterval(function(){return 1>=c?(clearInterval(f),window.location.href=e,void 0):($(b).html(--c+d),void 0)},1e3);return $(b).html(c+d),this},hover:function(a){var b=$(this),a=a||"hover";b.each(function(b,c){$(c).on("touchstart",function(){var b=setTimeout(function(){$(c).addClass(a)},50);$(document).one("touchmove touchend",function(){clearTimeout(b),$(c).removeClass(a)})})})},textfold:function(a){var b=$.extend({len:90,text:"",style:{width:30,height:20},clz:"qn_arrow_grey b qn_fr"},a);return $.each($(this),function(){var d,a=this,c=$(a).html();c.length>b.len&&(d=$("<span>").html(b.text).addClass(b.clz).css(b.style),$(a).one("click",function(){$(a).html(c)}),$(a).html($(a).html().substring(0,b.len)+"...").append(d))}),this},simuInput:function(){return this.each(function(){var b=$(this);b.on("click",function(a){if(!b.hasClass("disable")){var d,c=a.target;"INPUT"!=c.tagName&&(d=$(this).find("input")[0],d.checked=d.checked?!1:!0)}})}),this},clearInput:function(a){var b=a.clearIcon||"",c=a.delBtnClass||"";this.each(function(){var a=$(this),d=a.find("input"),e=a.find(b);0!=d.length&&(d.on("input focus",function(){""==this.value?e.removeClass(c):e.addClass(c)}).on("blur",function(){setTimeout(function(){e.removeClass(c)},200)}),e.on("touchstart",function(a){a.preventDefault(),d.val(""),d.blur().focus()}))})},switchBtn:function(a){var a=a||{};return this.each(function(){var c=$(this),d=c.find(".qn_switch_btn"),e=a.status||0,f=c.find(".on"),g=c.find(".off");1==e?g.css("visibility","hidden"):(f.css("visibility","hidden"),d.css("left","2px"),c.addClass(a.className)),c.on("click",function(){c.toggleClass(a.className),c.hasClass(a.className)?(g.css("visibility","visible"),d.animate({left:"2px"},{duration:200,easing:"ease-out",complete:function(){c.trigger("off"),f.css("visibility","hidden")}})):(f.css("visibility","visible"),d.animate({left:"42px"},{duration:200,easing:"ease-out",complete:function(){g.css("visibility","hidden"),c.trigger("on")}}))})}),this},fix:function(a){var c,d,e,f,b=this;return b.attr("isFixed")?b:(b.css(a).css("position","fixed").attr("isFixed",!0),c=$('<div style="position:fixed;top:10px;"></div>').appendTo("body"),d=c[0].getBoundingClientRect().top,e=function(){window.pageYOffset>0&&(c[0].getBoundingClientRect().top!==d&&(b.css("position","absolute").attr("isFixed",!1),f(),$(document).on("scrollStop",f),$(window).on("ortchange",f)),$(document).off("scrollStop",e),c.remove())},f=function(){b.attr("isClosed")||(b.show().css({top:window.pageYOffset+(void 0!==a.bottom?window.innerHeight-b.height()-parseInt(a.bottom,10):a.top||0),left:void 0!==a.right?document.body.offsetWidth-b.width()-a.right:a.left||0}),"100%"==a.width&&b.css("width",document.body.offsetWidth))},$(document).on("scrollStop",e),$(document).on("touchmove",function(){"false"==b.attr("isFixed")&&!b.attr("isClosed")&&b.hide()}),b)},paging:function(a){return this.each(function(){var d,e,c=this;c.opt=$.extend({next:function(){},pre:function(){}},a),d=$(c).find(".pre"),e=$(c).find(".next"),d.on("click",function(a){var b,d;a.preventDefault(),b=$(c).find(".num"),d=b.html(),1>=d||(d--,b.html(d),c.opt.pre.call(c))}),e.on("click",function(a){var b,d,e,f;a.preventDefault(),b=$(c).find(".total"),d=$(c).find(".num"),e=parseInt(d.html(),10),f=parseInt(b.html(),10),e>=f||(e++,d.html(e),c.opt.next.call(c))})}),this},fadeIn:function(a){return a=a||350,this.each(function(){$(this).css({display:"",opacity:0}).animate({opacity:1},a)})},fadeOut:function(a){a=a||350,$(this).css({opacity:1}).animate({opacity:0},a).hide()}}),$.has3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,function(){$(window).on("scroll",$.debounce(80,function(){$(document).trigger("scrollStop")},!1))}()}(),function(){function c(a){var b=[],c=a;if(c instanceof Date)return c;if(c instanceof Object)b.push(c.y),b.push(c.m),b.push(c.d);else{if(!arguments[0]||"null"==arguments[0])return new Date;b=3==arguments.length?[arguments[0],arguments[1],arguments[2]]:c.split("-")}return new Date(parseInt(b[0],10),parseInt(b[1]-1,10),parseInt(b[2],10))}function d(a){return $.getDateString(a)}var e,a=864e5,b=function(a){this.opt=$.extend({holiday:[],tiaoxiu:[],start:"",sContent:"",back:"",bContent:"",container:"",validDays:90,validType:0,showDay:!0,sameDay:!0,offset:2,tags:{},tpl:"#calendarTpl",beforeCallback:function(){},chooseCallback:function(){}},a),this.today=new Date,this._init()};b.prototype={constructor:b,_transToDate:function(a){var b=[],c=a;if(c instanceof Date)return c;if(c instanceof Object)b.push(c.y),b.push(c.m),b.push(c.d);else{if(!arguments[0]||"null"==arguments[0])return new Date;b=3==arguments.length?[arguments[0],arguments[1],arguments[2]]:c.split("-")}return new Date(b[0],b[1]-1,b[2])},_transToObj:function(a){var a=this._transToDate(a);return{y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate()}},_transToString:function(a){var a=this._transToObj(a);return $.fixTo8Date(a.y,a.m,a.d,"-")},_compareDay:function(a,b){var a=this._transToDate(a),b=this._transToDate(b);return a-b>=0},_validDay:function(){var b=this._transToDate.apply(this,arguments),c=this.today,d=this.opt.validDays-1;return b-c>=-a&&d*a>=b-c},_init:function(){},render:function(){return this},fill:function(){},choose:function(){},active:function(){},_getDay:function(a){return this._transToDate(a).getDay()},_daysOfWeek:function(a){var b=["日","一","二","三","四","五","六"],d=c(a).getDay();return"星期"+b[d]},getDayString:function(a){return this.opt.showDay?this._transToString(a)+"&nbsp;"+this._daysOfWeek(a):this._transToString(a)}},$.QunarCalendar=b,e=function(a){this.options=$.extend({serverDate:"",container:"",tpl:"#cTpl",validDays:90,init:function(){},fill:function(){},active:function(){},unactive:function(){}},a),this._data={},this._init()},e.prototype={constructor:b,_init:function(){var a=this,b=a.options;this.zContainer=$(b.container).delegate("td","touchstart",function(){var b,a=$(this);a.hasClass("null")||a.hasClass("disable")||(b=setTimeout(function(){a.addClass("hover")},50),$(document).one("touchmove touchend",function(){clearTimeout(b),a.removeClass("hover")}))}).delegate("td","click",function(){a.unactive(this)}),b.init.call(this)},_render:function(a,b){var c=this,e=c.options,g=e.fill;getWeeks=function(a,b){var l,m,n,i,j,k,f=new Date(a,b-1,1).getDay(),h=new Date(a,b,1);for(f=0==f?6:f-1,h.setDate(h.getDate()-1),h=h.getDate(),i=[],j=[],k=Math.ceil((f+h)/7),l=0;k>l;l++){for(j=[],m=0;7>m;m++)n=7*l+m+1-f,0==l?f>m?j.push({date:d(new Date(a,b-1,n)),content:{className:"null",content:""}}):j.push({date:d(new Date(a,b-1,n)),content:g.call(c,new Date(a,b-1,n))}):7*l+m-f>=h?j.push({date:d(new Date(a,b-1,n)),content:{className:"null",content:""}}):j.push({date:d(new Date(a,b-1,n)),content:g.call(c,new Date(a,b-1,n))});i.push(j)}return i},c.zContainer.append(_.template($(e.tpl).html(),{year:a,month:b,weeks:getWeeks(a,b)}))},render:function(a,b,d){var g,h,e=this,f=e.options;if(d.clear&&e.zContainer.html(""),!a&&f.validDays){for(g=c(f.serverDate),h=c(f.serverDate),h.setDate(g.getDate()+f.validDays);0>g-h;)a=g.getFullYear(),b=g.getMonth()+1,e._render(a,b),g.setDate(1),g.setMonth(g.getMonth()+1);return e}return a&&b&&e._render(a,b),e},active:function(a,b){var d=c(a),e=this.options.active;return e&&e.call(this,d,b),this},unactive:function(a,b){var c=this.options.unactive;return c&&c.call(this,a,b),this},getDay:function(a){var b=["日","一","二","三","四","五","六"],d=c(a).getDay();return"星期"+b[d]},attr:function(a,b){var e,c=this,d=c._data;if("string"==typeof a)return void 0===b?d[a]:(d[a]=b,this);if("object"==typeof a){for(e in a)c.attr(e,a[e]);return this}},transToDate:c},$._QunarCalendar=e}(Zepto),function(){var a=function(a){this.options=$.extend({data:[],day:"",value:"",container:"",tpl:"#typeTpl",init:function(){},fill:function(){},active:function(){},unactive:function(){}},a),this._init()};a.prototype={constructor:a,_init:function(){var a=this,b=a.options;this.zContainer=$(b.container).delegate("dd","touchstart",function(){var b,a=$(this);a.hasClass("null")||a.hasClass("disable")||(b=setTimeout(function(){a.addClass("hover")},50),$(document).one("touchmove touchend",function(){clearTimeout(b),a.removeClass("hover")}))}).delegate("dd","click",function(){a.unactive(this)}),b.init.call(this)},_render:function(a,b){var c=this,d=c.options;c.zContainer.append(_.template($(d.tpl).html(),{value:a,humanize:b}))},render:function(a){var b=this,c=b.options,d=-1;for(a&&b.zContainer.html(""),b._render(d,"<恢复默认>"),d=0;d<c.data.length;d++)b._render(d,c.data[d]);return b},active:function(a){var b=this.options.active;return b&&b.call(this,a),this},unactive:function(a){var b=this.options.unactive;return b&&b.call(this,a),this}},$._QunarWorkType=a}(Zepto),function(){$.App=function(){var d,a=$("#mask"),b=["急1","急2","付班","夜班","下夜班"],c={},e=function(){var a=new Date,c=new Date(a.getFullYear(),a.getMonth(),1);return(Math.floor((c.getTime()+288e5)/864e5)-2)%b.length},f=e(),g=$("#calendarPage").page({init:function(){var d=this,g={"2015-04-04":"4","2015-04-05":"清明节","2015-04-06":"6","2015-05-01":"劳动节","2015-05-02":"2","2015-05-03":"3","2015-06-20":"端午节","2015-06-21":"21","2015-06-22":"22","2015-08-20":"七夕","2015-09-27":"中秋节","2015-10-01":"国庆节","2015-10-02":"2","2015-10-03":"3","2015-10-04":"4","2015-10-05":"5","2015-10-06":"6","2015-10-07":"7","2015-11-11":"光棍节","2015-12-24":"平安夜","2015-12-25":"圣诞节"},h={"2015-08-20":"2015-08-20","2015-10-10":"2015-10-10","2015-11-11":"2015-11-11","2015-12-24":"2015-12-24","2015-12-25":"2015-12-25"},i=864e5,j=new $._QunarCalendar({container:".qn_calendar",serverDate:"",validDays:365,fill:function(a){var d=$.getDateString(a),e="",j="<p>"+a.getDate()+"</p>",k=new Date,l=k,m=this.attr("startDate"),n=this.attr("backDate"),o="",p=0;return(6==a.getDay()||0==a.getDay())&&(e="weekend"),g[d]&&(e="holiday",j="<p>"+g[d]+"</p>"),h[d]&&(e+=" weekday"),a.getFullYear()==k.getFullYear()&&a.getMonth()==k.getMonth()&&a.getDate()==k.getDate()&&(e="",j="<p>今天</p>"),this.attr("start")&&0==a-m&&(e=g[d]?"holiday active":"active"),e+=l-a>=i?" disable":"",this.attr("back")&&(0==a-n&&(e=g[d]?"holiday active":"active"),l=m,e+=l-a>0?" disable":""),void 0!==c[d]&&(f=c[d],e+=" changed"),p=f%b.length,-1===e.indexOf("disable")&&(e+=" work_type_"+p),j+='<p class="tag qn_grey"'+o+">"+b[p]+"</p>",f+=1,{className:e,html:j}},active:function(){a.show(),f=e(),$.ajax({type:"GET",url:"plan",dataType:"json",cache:!1,success:function(b){c=b,j.render(null,null,{clear:!0}),a.hide()},error:function(){alert("请求出错!"),a.hide()}})},unactive:function(a){var a=$(a);a.data("day"),a.hasClass("disable")||a.hasClass("null")||a.attr("colspan")||($(".qn_calendar").find(".active").removeClass("active"),d.unactive())}});this.calendar=j},active:function(){this.calendar.active()}}),h=$("#typePage").page({init:function(){var c=this,e=function(b,c){a.show(),$.ajax({type:"POST",url:"plan/set",data:{day:b,value:c},dataType:"json",cache:!1,success:function(){g.active(),a.hide()},error:function(){alert("请求出错!"),a.hide()}})},f=new $._QunarWorkType({data:b,container:".qn_worktype",active:function(a){var b=$("#typePage .title");f.render(!0),b.html(a+"上班类型"),f.day=a,d.toPage("typePage")},unactive:function(a){var b=$(a),d=parseInt(b.data("value"));e(f.day,d),c.unactive()}});$("#calendarPage").delegate("td","click",function(){var a=$(this),b=a.data("day");a.hasClass("null")||a.hasClass("disable")||f.active(b)})}});g.init(),g.active(),d=$(".qn_pages").pages({main:"calendarPage",side:[h]})}}();